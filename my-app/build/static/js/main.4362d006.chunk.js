(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(5),c=a.n(n),l=(a(11),a(4)),s=a.n(l),i=a(6),o=a(2),b=a.p+"static/media/DefaultIMG.cdfe69fd.JPG",m=a(0);var u=function(){var e=localStorage.getItem("albumNameKey"),t=JSON.parse(e)||[];function a(e){var a=e.target.parentNode.id;t.map((function(e){if(a===e[2]){var r=t.indexOf(e);t.splice(r,1),localStorage.setItem("albumNameKey",JSON.stringify(t)),alert("".concat(e[0]," removed from your library.")),window.location.reload()}return Object(m.jsx)("h1",{children:null})}))}return 0===t.length?Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"lib-title",children:"Library"}),Object(m.jsx)("h1",{className:"empty",children:"Nothing in your library."})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"lib-title",children:"Library"}),Object(m.jsx)("div",{className:"library",children:t.map((function(e){return Object(m.jsxs)("div",{className:"album",id:e[2],children:[Object(m.jsx)("img",{className:"libraryImg",src:e[4],alt:"Album cover"}),Object(m.jsxs)("h2",{children:[e[0]," by ",e[1]]}),Object(m.jsx)("a",{href:e[3],className:"albumLink",children:"Listen Now"}),Object(m.jsx)("button",{className:"btn remove",onClick:a,children:"Remove from Library"})]},e[2])}))})]})};var d=function(e){var t=e.albumInfo,a=Object.values(t.image[5]);return Object(m.jsxs)("div",{className:"albumInfo",children:[Object(m.jsx)("img",{className:"displayImg",src:a[1]||b,alt:"Album Cover"}),Object(m.jsxs)("h1",{className:"albumName",children:[t.name," by ",t.artist]}),Object(m.jsx)("a",{href:"".concat(t.url),className:"albumLink",children:"Listen Now"}),Object(m.jsx)("button",{className:"btn",onClick:function(){var e=JSON.parse(localStorage.getItem("albumNameKey"))||[];if(e.length<1)return e.push([t.name,t.artist,t.mbid,t.url,a[1]||b]),alert("".concat(t.name," added to your library")),localStorage.setItem("albumNameKey",JSON.stringify(e)),void window.location.reload();var r=0;console.log(e.length);for(var n=0;n<e.length;n++){if(e[n][2]===t.mbid){if(""===t.mbid)return void alert("Unable to add ".concat(t.name," to your library. ").concat(t.name," is missing key information needed. Listen now still available."));alert("".concat(t.name," already saved to your libray.")),window.location.reload(),r=0;break}r+=1}r<e.length||(e.push([t.name,t.artist,t.mbid,t.url,a[1]||b]),r=!1,alert("".concat(t.name," added to your library")),window.location.reload(),localStorage.setItem("albumNameKey",JSON.stringify(e)))},children:"Add to Library"})]})};var j=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),l=Object(o.a)(c,2),b=l[0],u=l[1],j=Object(r.useState)(""),h=Object(o.a)(j,2),O=h[0],f=h[1],v=function(){var e=Object(i.a)(s.a.mark((function e(t){var r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=" https://ws.audioscrobbler.com/2.0?method=album.getinfo&api_key=a03decaea0227972bf104eea6a6ebdb8&artist=".concat(b,"&album=").concat(a,"&format=json"),e.prev=2,e.next=5,fetch(r,{headers:{"Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, POST, PUT","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});case 5:return c=e.sent,e.next=8,c.json();case 8:l=e.sent,f(l),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),alert("Album not found. Please make surke you are entering the correct album information."),window.location.reload();case 16:n(""),u("");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),p=Object.values(O);return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("form",{className:"albumForm",onSubmit:v,children:[Object(m.jsx)("label",{className:"inputLabel",children:"Album:"}),Object(m.jsx)("input",{type:"text",name:"albumN",placeholder:"Album Name",value:a,onChange:function(e){return n(e.target.value)}}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{className:"inputLabel",children:"Artist:"}),Object(m.jsx)("input",{type:"text",name:"artistN",placeholder:"Artist Name",value:b,onChange:function(e){return u(e.target.value)}}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{className:"btn",type:"submit",children:"Search"})]}),Object(m.jsx)("div",{className:"albumInfoContainer",children:p.map((function(e){return Object(m.jsx)(d,{albumInfo:e},e.mbid)}))})]})};var h=function(){return Object(m.jsx)("div",{className:"logo",children:Object(m.jsx)("h1",{className:"title",children:"Album Libray"})})};var O=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{}),Object(m.jsx)(j,{}),Object(m.jsx)(u,{})]})};c.a.render(Object(m.jsx)(O,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.4362d006.chunk.js.map